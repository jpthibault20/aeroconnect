generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

enum userRole {
  USER
  STUDENT
  INSTRUCTOR
  PILOT
  OWNER
  ADMIN
}

enum flightType {
  FIRST_FLIGHT
  INITATION
  TRAINING
}

model User {
  id         String   @id @unique @default(uuid())
  email      String   @unique
  clubID     String
  firstName  String
  lastName   String
  phone      String?
  restricted Boolean  @default(false)
  role       userRole @default(USER)
  country    String?
  zipCode    String?
  adress     String?
  city       String?
}

model flight_sessions {
  id                      String      @id @unique @default(uuid())
  clubID                  String
  sessionDateStart        DateTime    @db.Timestamptz(6)
  sessionDateDuration_min Int
  flightType              flightType?
  pilotID                 String
  pilotFirstName          String
  pilotLastName           String
  studentID               String?
  studentFirstName        String?
  studentLastName         String?
  studentPlaneID          String?
  student_type            flightType?
  finalReccurence         DateTime?   @db.Timestamptz(6)
  planeID                 String[]
}

model planes {
  id              String  @id @unique @default(uuid())
  clubID          String
  name            String
  immatriculation String
  operational     Boolean @default(true)
}

model Club {
  id                 String   @id @unique
  Name               String
  Address            String
  City               String
  Country            String
  ZipCode            String
  OwnerId            String[]
  DaysOn             String[]
  HoursOn            String[]
  SessionDurationMin Int
  AvailableMinutes   String[]
}
